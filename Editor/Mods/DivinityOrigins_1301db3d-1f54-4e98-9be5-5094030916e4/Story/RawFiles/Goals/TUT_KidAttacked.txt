Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION
IF
AttackedByObject((CHARACTERGUID)_Kid,(CHARACTERGUID)_Player,_,_,_)
AND
DB_TUT_LowerDeck_Child(_Kid)
AND
DB_IsPlayer(_Player)
THEN
ProcForceStopDialog(_Kid);
ObjectSetFlag(_Kid,"GEB_FleeOutOfSight");
// Prevent ball following kid running away, or ball "getting kicked"
// by kid that ran away in the mean time
PROC_TUT_AbortOngoingKick();

IF
GlobalFlagSet("TUT_LowerDeck_WindegoHasCastSpell")
AND
DB_TUT_LowerDeck_Child(_Child)
THEN
ObjectSetFlag(_Child,"GEB_DontAppearAfter");

IF
GlobalFlagSet("TUT_LowerDeck_WindegoHasCastSpell")
THEN
GoalCompleted;

// For debug book usage
PROC
ProcRegionEnded("TUT_Tutorial_A")
THEN
GoalCompleted;

EXITSECTION

ENDEXITSECTION
ParentTargetEdge "TUT_LowerDeck"
