Version 1
SubGoalCombiner SGC_AND
INITSECTION
///DB_AutomatonCapacitors(_Capacitor,_Automaton)
//ITEMGUID_QUEST_CoS_RaanaarCapacitor_1d838f3b-dc81-45e3-855d-4adc7d127042
KBSECTION
IF
StoryEvent(_Automaton,"CreateCapacitorLink")
AND
NOT DB_AutomatonCapacitors(_,_Automaton)
AND
GetPosition(_Automaton,_X,_Y,_Z)
AND
CreateItemTemplateAtPosition("QUEST_CoS_RaanaarCapacitor_1d838f3b-dc81-45e3-855d-4adc7d127042",_X,_Y,_Z,_Capacitor)
THEN
ItemToInventory(_Capacitor,_Automaton);
DB_AutomatonCapacitors(_Capacitor,_Automaton);

IF
DB_AutomatonCapacitors(_Capacitor,_)
THEN
ItemSetStoryItem(_Capacitor,1);




//REGION Automaton Pickpocketing

IF
ItemRemovedFromCharacter(_Capacitor,_Automaton)
AND
DB_AutomatonCapacitors(_Capacitor,_Automaton)
AND
CharacterIsDead(_Automaton,0)
THEN
CharacterDie(_Automaton,1,"DoT");


IF
ItemRemovedFromCharacter(_Capacitor,_Automaton)
AND
DB_AutomatonCapacitors(_Capacitor,_Automaton)
THEN
ItemSetStoryItem(_Capacitor,0);


//END_REGION

PROC
ProcRegionEnded(_)
AND
DB_AutomatonCapacitors(_Capacitor,_Automaton)
THEN
NOT DB_AutomatonCapacitors(_Capacitor,_Automaton);


EXITSECTION

ENDEXITSECTION
ParentTargetEdge "Start"
