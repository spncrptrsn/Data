Version 1
SubGoalCombiner SGC_AND
INITSECTION
// --- AUTOSAVE TRIGGERS ---
DB_AutoSaveTrigger((TRIGGERGUID)TRIGGERGUID_S_FTJ_Autosave_AlcoveTurtles_8f1b2fe8-bf7b-45df-b375-ad87b1bcfb16);
DB_AutoSaveTrigger((TRIGGERGUID)RC_FTJ_Autosave_AfterBridge_48254132-f413-44f1-8f92-263f201ef9d6);
DB_AutoSaveTrigger((TRIGGERGUID)RC_FTJ_Autosave_GhettoEntrance_e757075a-5b60-42a2-b5d7-3287e86a6045);
DB_AutoSaveTrigger(RC_FTJ_Autosave_OlgoHatch_19bcacbb-aa99-472c-bc03-6b270f925e88);
DB_AutoSaveTrigger(TRIGGERGUID_S_FTJ_Autosave_KnilesExit_eb4243af-9668-4fe8-80df-6318c7d23a40);
DB_AutoSaveTrigger(TRIGGERGUID_S_FTJ_Autosave_Tunnel_b20878e9-c765-4a0c-8c44-df2d318d8583);
DB_AutoSaveTrigger(RC_FTJ_Autosaves_PrisonMainFloor_3660c3c7-7165-4979-8669-d1b82236559f);
DB_AutoSaveTrigger(S_FTJ_SW_Autosave_LabyrinthPuzzle_dfc30f01-8189-4c0f-baa0-663eef6a12f1);
DB_AutoSaveTrigger(TRIGGERGUID_S_FTJ_AutoSave_IllusionistBossRoom_84a2ff20-deb1-4cf7-b2bc-a865ec110d14);
DB_AutoSaveTrigger(TRIGGERGUID_S_FTJ_AutoSave_IllusionistChestRoom_60994524-17c6-4f68-8abc-4ef610b8ea55);
DB_AutoSaveTrigger(TRIGGERGUID_S_FTJ_AutoSave_FlamingPigs_00495f34-db2e-40b7-b984-bc93c999a123);
DB_AutoSaveTrigger((TRIGGERGUID)TRIGGERGUID_S_FTJ_Autosave_Crocs_6292c4b1-dea5-4bf5-9248-c7017a451cd2);
DB_AutoSaveTrigger((TRIGGERGUID)TRIGGERGUID_S_FTJ_Autosave_FrogAmbush_ec1b7a5b-bfee-4d94-bea1-bbcf1a867f80);
DB_AutoSaveTrigger((TRIGGERGUID)TRIGGERGUID_S_FTJ_Autosave_Migo_d4f60817-cafa-416d-a076-58744738e5d1);
DB_AutoSaveTrigger((TRIGGERGUID)TRIGGERGUID_S_FTJ_Autosave_StartingAreaVw_2a50544f-f412-4243-9ec0-4b7234d9b03e);
DB_AutoSaveTrigger(S_FTJ_SW_Autosave_BatteredAndCornered_f942c638-2af2-44d5-a99b-21beb344bffa);
DB_AutoSaveTrigger(S_FTJ_SW_Autosave_NoxiousCircle_492d7aa5-5a2f-4eb9-aec4-ca2084879588);
DB_AutoSaveTrigger(S_FTJ_SW_Autosave_SkullDoor_d7b7c5cf-87a6-4ee0-8491-688d03d590d6);

/*
DB_AutoSaveTrigger((TRIGGERGUID)S_FTJ_AutoSave_Arena_5b773f9e-8619-465d-a4ae-80ee39adaf54);
DB_AutoSaveTrigger((TRIGGERGUID)S_FTJ_Autosave_SoulJarChamber_b44c05be-e058-4850-83f3-a3f77257e67e);
DB_AutoSaveTrigger((TRIGGERGUID)S_FTJ_Autosave_VoidlingAmbush_2e21cceb-a890-460e-a169-de8ff41757eb);
DB_AutoSaveTrigger((TRIGGERGUID)S_FTJ_SW_Autosave_VWBoss_c0959c53-0ef4-48db-b717-186fd1cb35f6);
DB_AutoSaveTrigger((TRIGGERGUID)S_FTJ_SW_Autosave_BurningSkeleton_fc58fa97-f5ff-4443-bab4-3284ea19976f);
DB_AutoSaveTrigger((TRIGGERGUID)S_FTJ_SW_Autosave_Radeka_80e5cd03-c42a-497d-9078-57c4e6a0abc7);
DB_AutoSaveTrigger((TRIGGERGUID)S_FTJ_SW_Autosave_Salamander_c41c5c4e-da6a-4c62-9cdd-2015b7ca29ea);
DB_AutoSaveTrigger((TRIGGERGUID)S_FTJ_SW_Autosave_NecromcerTower_7c53b157-e3d5-4be3-8956-6dfb5cf1e39a);
DB_AutoSaveTrigger((TRIGGERGUID)S_FTJ_SW_Autosave_FinalBattle_dbaf6f83-8936-469b-a855-34145bca8737);
*/


// --- EXPLORATION ZONES ---
DB_ExplorationZones(TRIGGERGUID_S_FTJ_XP_Alcove_16f76e8b-4f9b-40bc-9a1b-1e216a4e42f9,1,2,5);
DB_ExplorationZones(TRIGGERGUID_S_FTJ_XP_Arena_6378f2e9-1f45-4f89-b760-3bb97359486a,1,2,5);
DB_ExplorationZones(TRIGGERGUID_S_FTJ_XP_ModyPlayHouse_15225ad1-d5e6-4dd0-af3d-0ec02fb9a1d6,1,2,5);
DB_ExplorationZones(TRIGGERGUID_S_FTJ_XP_FrogFight_50d61239-5630-4632-b647-58d88c6065fd,1,2,6);
DB_ExplorationZones(TRIGGERGUID_S_FTJ_XP_CrocodileBeach_c9d0bf3c-5ffa-45bd-a494-c09b63b8692f,1,2,5);
DB_ExplorationZones(TRIGGERGUID_S_FTJ_XP_MountainTop_c10e42e6-e49a-44dc-aa9b-83c24a879510,1,3,5);
DB_ExplorationZones(TRIGGERGUID_S_FTJ_XP_ShrineUnderground_abad8a30-85ba-42a4-8e2d-110f29f80a12,1,3,5);
DB_ExplorationZones(RC_FTJ_XP_FluffyPrison_c28acef1-965b-4527-aaf1-146b96be15d3,1,3,6);
DB_ExplorationZones(RC_FTJ_XP_UndergroundTunnel_be544bdf-041d-48fb-9daa-fb932c552f60,1,3,4);
DB_ExplorationZones(RC_FTJ_XP_HoundMasterRoom_55cbfaef-d570-4f44-b8d4-17b68ea54f82,1,4,4);
DB_ExplorationZones(RC_FTJ_XP_PhylacteryRoom_a6ae2207-ed4d-47aa-b2d5-14f4db5ab7df,1,4,4);
DB_ExplorationZones(TRIGGERGUID_S_FTJ_XP_CourtRoomQuarters_87e27e73-69ce-4a41-ad6f-6c04decc34e6,1,4,4);

// Swamps
DB_ExplorationZones(TRIGGERGUID_S_FTJ_SW_XP_SeekerCamp_66a059dd-81b9-405c-bd53-305202b5b9e3,1,5,5);
DB_ExplorationZones(TRIGGERGUID_S_FTJ_SW_XP_WitchCave_add7b970-6250-44f2-a89a-8b18b5153af1,1,6,5);
DB_ExplorationZones(TRIGGERGUID_S_FTJ_SW_XP_BraccusVault_606cdae4-0d42-4fd8-9dca-c4160680ffe9,1,6,5);
DB_ExplorationZones(TRIGGERGUID_S_FTJ_SW_XP_IllusionistDungeon_67b0969e-9a57-4a7b-991c-f268674f897f,1,6,6);
DB_ExplorationZones(TRIGGERGUID_S_FTJ_SW_XP_NecromancerTomb_babfb928-1f32-4e1e-93c0-7408173db99b,1,6,7);


// --- SUBREGIONS ---
DB_Subregion(TRIGGERGUID_S_FTJ_SUB_MountainTop_fdb74d4d-16cd-4cd5-8807-6d9a4065ead4,"FTJ_SUB_MountainTop",0);
DB_Subregion(RC_FTJ_StartingArea_Poly_637dc5be-c8e4-4ed5-8430-1865f66717c0,"RC_FTJ_Beach",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SUB_HiddenAlcove_ccfb91cd-1de7-4758-9f21-cbb871fee147,"RC_FTJ_SUB_HiddenAlcove",0);
DB_Subregion(RC_FTJ_SUB_Ghetto_19107918-c6d6-4c93-a377-e8a76c8d0f27,"RC_FTJ_Ghetto",0);
DB_Subregion(RC_FTJ_SUB_Chapel_29763898-0722-4f22-bed2-5ec94b837fd3,"RC_FTJ_Chapel",0);
DB_Subregion(RC_FTJ_SUB_Caverns_e23bceea-0d50-44ab-98b1-260c7f483ff2,"RC_FTJ_Caverns",0);
DB_Subregion(RC_FTJ_SUB_PurgingRoom_dee169ab-b638-449e-84c7-df0bac651145,"RC_FTJ_PurgingRoom",0);
DB_Subregion(RC_FTJ_SUB_HoldingCells_2cf84586-d155-47be-95bc-372ccd034dc6,"RC_FTJ_HoldingCells",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SUB_UndergroundTunnel_85d72589-4344-48f8-ab98-98d3926703ba,"RC_FTJ_UndergroundTunnel",0);
DB_Subregion(RC_FTJ_SUB_PrisonGroundFloor_6c759383-8420-4354-ac44-b4fa5b2f7bb5,"RC_FTJ_PrisonGroundFloor",0);
DB_Subregion(RC_FTJ_SUB_ForgottenPrison_19189f21-ef9d-4558-af38-494473f59334,"RC_FTJ_ForgottenPrison",0);
DB_Subregion(RC_FTJ_SUB_HoundMasterRoom_7c5ed6fd-2a36-4ff0-8bbc-d0b2d5ddfd88,"RC_FTJ_HoundMaster",0);
DB_Subregion(RC_FTJ_SUB_PhylacteryRoom_7882a4cd-49ce-42af-ac9a-bdc02253b17e,"RC_FTJ_PhylacteryRoom",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SUB_ArenaPit_8b9567de-8945-4655-a0f0-219c9646869e,"FTJ_SUB_ArenaPit",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SUB_GhettoKitchen_bd5dbf2c-a490-4240-8ecc-fafa91eb11a5,"FTJ_SUB_GhettoKitchen",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SUB_Courtroom_7b9ba26e-b60f-4a09-aba1-728d50b1e133,"FTJ_SUB_Courtroom",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SUB_CourtRoomQuarters_82a79cfe-0dae-47f0-a9db-97e8c6bf93d5,"FTJ_SUB_CourtRoomQuarters",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SUB_ModyPlayHouse_6eb9f329-c357-4e46-812e-ae076405242b,"FTJ_SUB_ModyPlayhouse",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SUB_OldHarbour_d6f95039-d76a-48d0-abdf-b8f029cbfe10,"FTJ_SUB_OldHarbour",0);

//Swamps
DB_SubregionMarker(TRIGGERGUID_S_DUN_Shelter_51c3953f-c756-472d-a7ca-dc2a6232b386,"FTJ_SW_SUB_Shelter","FTJ_SW_Shelter");
DB_Subregion(TRIGGERGUID_S_FTJ_SW_SUB_MazeLavaPlace_Box_d2351a48-06d3-446e-a22a-18a76819f49a, "FTJ_SW_SUB_MazeLavaPlace",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SW_SUB_BraccusTunnel_08a27a56-4698-45e1-b02e-8eef19432c2f,"FTJ_SW_SUB_BraccusTunnel",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SW_SUB_BraccusVault_11913b72-243c-494c-9855-04b7ede0b9aa,"FTJ_SW_SUB_BraccusVault",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SUB_IllusionistEntrance_Poly_0f5cf23b-78d6-43d8-8cc7-2c3385b985a1,"FTJ_SW_SUB_IllusionistEntrance",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SW_SUB_RiddleRoom_8c4180c8-e234-4993-8edf-945823ef4209,"FTJ_SW_SUB_RiddleRoom",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SW_SUB_IllusionistBossRoom_765a9300-eeed-49f5-a6f9-6f68f7e67441,"FTJ_SW_SUB_IllusionistBossRoom",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SW_SUB_Swamps_ed3030de-1351-4849-b096-55c64be2a569,"FTJ_SW_SUB_Swamps",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SW_SUB_HallOfEchoes_3451f5d3-5b43-49d7-876b-82f5b7c9b65d,"FTJ_SW_SUB_HallOfEchoes",0);
DB_Subregion(TRIGGERGUID_S_FTJ_SW_SUB_NecromancerTower_Box_4d9adefc-f58f-446c-86c9-d51fd694654b,"FTJ_SW_SUB_NecromancerTower",0);

KBSECTION
//REGION PATCH - Preview build
IF
SavegameLoaded(_Major,_Minor,_Rev,_Build)
AND
QRY_VersionIsOlderThan(_Major,_Minor,_Rev,_Build, 3, 5, 1, 0)
THEN
NOT DB_Subregion(TRIGGERGUID_S_DUN_Shelter_51c3953f-c756-472d-a7ca-dc2a6232b386,"FTJ_SW_SUB_Shelter",1);
DB_SubregionMarker(TRIGGERGUID_S_DUN_Shelter_51c3953f-c756-472d-a7ca-dc2a6232b386,"FTJ_SW_SUB_Shelter","FTJ_SW_Shelter");

//END_REGION

PROC
ProcRegionEnded("FJ_FortJoy_Main")
THEN
GoalCompleted;
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "FortJoy"
