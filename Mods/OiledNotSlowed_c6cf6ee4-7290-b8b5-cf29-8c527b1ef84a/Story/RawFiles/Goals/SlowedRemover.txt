Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION
IF 
	CharacterStatusApplied((CHARACTERGUID)_Char,"SLOWED",_)
AND
	GetSurfaceGroundAt(_Char,"SurfaceOil")
THEN
	SetStoryEvent(_Char,"OilSurfaceGone");

IF 
	CharacterStatusApplied((CHARACTERGUID)_Char,"SLOWED",_)
AND
	GetSurfaceGroundAt(_Char,"SurfaceOilCursed")
THEN
	SetStoryEvent(_Char,"OilSurfaceGone");

IF
	StoryEvent((CHARACTERGUID)_Char,"OilSurfaceGone")
AND
	GetUUID(_Char, (STRING)_UUID)
AND
	StringConcatenate("CheckOil_", _UUID, (STRING)_TimerName)
THEN
	DB_ONS_CheckOil(_Char,_TimerName);
	TimerLaunch(_TimerName,500);

IF
	TimerFinished(_TimerName)
AND
	DB_ONS_CheckOil(_Char,_TimerName)
THEN
	PROC_ONS_SurfaceOutcome((CHARACTERGUID)_Char,(STRING)_TimerName);

PROC
	PROC_ONS_SurfaceOutcome((CHARACTERGUID)_Char,(STRING)_TimerName)
AND
	NOT GetSurfaceGroundAt(_Char,"SurfaceOil")
AND
	NOT GetSurfaceGroundAt(_Char,"SurfaceOilCursed")
THEN
	RemoveStatus(_Char,"SLOWED");
	NOT DB_ONS_CheckOil(_Char,_TimerName);

PROC
	PROC_ONS_SurfaceOutcome((CHARACTERGUID)_Char,(STRING)_TimerName)
AND
	GetSurfaceGroundAt(_Char,"SurfaceOil")
THEN
	TimerLaunch(_TimerName,500);

PROC
	PROC_ONS_SurfaceOutcome((CHARACTERGUID)_Char,(STRING)_TimerName)
AND
	GetSurfaceGroundAt(_Char,"SurfaceOilCursed")
THEN
	TimerLaunch(_TimerName,500);
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "OiledNotSlowed"
